

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>sdcflows.workflows.unwarp module &mdash; sdcflows 0.1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/banner.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="sdcflows.workflows.syn module" href="sdcflows.workflows.syn.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> sdcflows
          

          
          </a>

          
            
            
              <div class="version">
                0.1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="sdcflows.html">sdcflows package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="sdcflows.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="sdcflows.cli.html">sdcflows.cli package</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdcflows.interfaces.html">sdcflows.interfaces package</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdcflows.viz.html">sdcflows.viz package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="sdcflows.workflows.html">sdcflows.workflows package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="sdcflows.workflows.html#automatic-selection-of-the-appropriate-susceptibility-distortion-correction-sdc-method">Automatic selection of the appropriate susceptibility-distortion correction (SDC) method</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="sdcflows.workflows.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">sdcflows</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="sdcflows.html">sdcflows package</a> &raquo;</li>
        
          <li><a href="sdcflows.workflows.html">sdcflows.workflows package</a> &raquo;</li>
        
      <li>sdcflows.workflows.unwarp module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/sdcflows.workflows.unwarp.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  





<div class="section" id="module-sdcflows.workflows.unwarp">
<span id="sdcflows-workflows-unwarp-module"></span><h1>sdcflows.workflows.unwarp module<a class="headerlink" href="#module-sdcflows.workflows.unwarp" title="Permalink to this headline">¶</a></h1>
<div class="section" id="unwarping">
<span id="sdc-unwarp"></span><h2>Unwarping<a class="headerlink" href="#unwarping" title="Permalink to this headline">¶</a></h2>
<div class="topic">
<p class="topic-title first">Abbreviations</p>
<dl class="simple">
<dt>fmap</dt><dd><p>fieldmap</p>
</dd>
<dt>VSM</dt><dd><p>voxel-shift map – a 3D nifti where displacements are in pixels (not mm)</p>
</dd>
<dt>DFM</dt><dd><p>displacements field map – a nifti warp file compatible with ANTs (mm)</p>
</dd>
</dl>
</div>
<dl class="function">
<dt id="sdcflows.workflows.unwarp.init_fmap_unwarp_report_wf">
<code class="sig-prename descclassname">sdcflows.workflows.unwarp.</code><code class="sig-name descname">init_fmap_unwarp_report_wf</code><span class="sig-paren">(</span><em class="sig-param">name='fmap_unwarp_report_wf'</em>, <em class="sig-param">forcedsyn=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdcflows/workflows/unwarp.html#init_fmap_unwarp_report_wf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sdcflows.workflows.unwarp.init_fmap_unwarp_report_wf" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a reportlet showing how SDC unwarping performed.</p>
<p>This workflow generates and saves a reportlet showing the effect of fieldmap
unwarping a BOLD image.</p>
<div class="figure align-default">
<img alt="../_images/sdcflows-workflows-unwarp-1.png" src="../_images/sdcflows-workflows-unwarp-1.png" />
</div>
<p>(<a class="reference external" href="../api/sdcflows-workflows-unwarp-1.py">Source code</a>, <a class="reference external" href="../api/sdcflows-workflows-unwarp-1.png">png</a>, <a class="reference external" href="../api/sdcflows-workflows-unwarp-1.svg">svg</a>, <a class="reference external" href="../api/sdcflows-workflows-unwarp-1.pdf">pdf</a>)</p>
<p><strong>Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>name<span class="classifier">str, optional</span></dt><dd><p>Workflow name (default: fmap_unwarp_report_wf)</p>
</dd>
<dt>forcedsyn<span class="classifier">bool, optional</span></dt><dd><p>Whether SyN-SDC was forced.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Inputs</strong></p>
<blockquote>
<div><dl class="simple">
<dt>in_pre</dt><dd><p>Reference image, before unwarping</p>
</dd>
<dt>in_post</dt><dd><p>Reference image, after unwarping</p>
</dd>
<dt>in_seg</dt><dd><p>Segmentation of preprocessed structural image, including
gray-matter (GM), white-matter (WM) and cerebrospinal fluid (CSF)</p>
</dd>
<dt>in_xfm</dt><dd><p>Affine transform from T1 space to BOLD space (ITK format)</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="sdcflows.workflows.unwarp.init_sdc_unwarp_wf">
<code class="sig-prename descclassname">sdcflows.workflows.unwarp.</code><code class="sig-name descname">init_sdc_unwarp_wf</code><span class="sig-paren">(</span><em class="sig-param">omp_nthreads</em>, <em class="sig-param">fmap_demean</em>, <em class="sig-param">debug</em>, <em class="sig-param">name='sdc_unwarp_wf'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdcflows/workflows/unwarp.html#init_sdc_unwarp_wf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sdcflows.workflows.unwarp.init_sdc_unwarp_wf" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the warping given by a displacements fieldmap.</p>
<p>This workflow takes in a displacements fieldmap and calculates the corresponding
displacements field (in other words, an ANTs-compatible warp file).</p>
<p>It also calculates a new mask for the input dataset that takes into account the distortions.
The mask is restricted to the field of view of the fieldmap since outside of it corrections
could not be performed.</p>
<div class="figure align-default">
<img alt="../_images/sdcflows-workflows-unwarp-2.png" src="../_images/sdcflows-workflows-unwarp-2.png" />
</div>
<p>(<a class="reference external" href="../api/sdcflows-workflows-unwarp-2.py">Source code</a>, <a class="reference external" href="../api/sdcflows-workflows-unwarp-2.png">png</a>, <a class="reference external" href="../api/sdcflows-workflows-unwarp-2.svg">svg</a>, <a class="reference external" href="../api/sdcflows-workflows-unwarp-2.pdf">pdf</a>)</p>
<p>Inputs</p>
<blockquote>
<div><dl class="simple">
<dt>in_reference</dt><dd><p>the reference image</p>
</dd>
<dt>in_reference_brain</dt><dd><p>the reference image (skull-stripped)</p>
</dd>
<dt>in_mask</dt><dd><p>a brain mask corresponding to <code class="docutils literal notranslate"><span class="pre">in_reference</span></code></p>
</dd>
<dt>metadata</dt><dd><p>metadata associated to the <code class="docutils literal notranslate"><span class="pre">in_reference</span></code> EPI input</p>
</dd>
<dt>fmap</dt><dd><p>the fieldmap in Hz</p>
</dd>
<dt>fmap_ref</dt><dd><p>the reference (anatomical) image corresponding to <code class="docutils literal notranslate"><span class="pre">fmap</span></code></p>
</dd>
<dt>fmap_mask</dt><dd><p>a brain mask corresponding to <code class="docutils literal notranslate"><span class="pre">fmap</span></code></p>
</dd>
</dl>
</div></blockquote>
<p>Outputs</p>
<blockquote>
<div><dl class="simple">
<dt>out_reference</dt><dd><p>the <code class="docutils literal notranslate"><span class="pre">in_reference</span></code> after unwarping</p>
</dd>
<dt>out_reference_brain</dt><dd><p>the <code class="docutils literal notranslate"><span class="pre">in_reference</span></code> after unwarping and skullstripping</p>
</dd>
<dt>out_warp</dt><dd><p>the corresponding <abbr title="displacements field map">DFM</abbr> compatible with
ANTs</p>
</dd>
<dt>out_jacobian</dt><dd><p>the jacobian of the field (for drop-out alleviation)</p>
</dd>
<dt>out_mask</dt><dd><p>mask of the unwarped input file</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="sdcflows.workflows.syn.html" class="btn btn-neutral float-left" title="sdcflows.workflows.syn module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright 2019, Center for Reproducible Neuroscience, Stanford University

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: master
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../../docs_test/api/sdcflows.workflows.unwarp.html">docs_test</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="sdcflows.workflows.unwarp.html">master</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>