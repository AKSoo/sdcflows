ds005
=====

``fmriprep``'s ds005 pipeline is used on datasets for which there are only t1ws and at least one functional (EPI) file.
Use the `--workflow-type ds005` or allow ``fmriprep`` to automatically determine the approriate workflow.

What It Does
------------
High-level view of the ds005 pipeline:

.. graphviz:: ds005.dot

BIDSDatasource
~~~~~~~~~~~~~~

Stuff about BIDSDatasource

t1w_preprocessing
~~~~~~~~~~~~~~~~~

.. graphviz:: t1w_preprocessing.dot

The t1w_preprocessing sub-workflow finds transforms between the t1w and MNI space, finds the skull stripping mask, and finds the white matter/gray matter/cerebrospinal fluid segments.

EPI_HMC
~~~~~~

.. graphviz:: EPI_HMC.dot

The EPI_HMC sub-workflow performs head motion correction over the input EPI (echo-planar imaging) image.

NOTE: why doesn't the graphviz img show any inputs to EPI_HMC?

EPIMeanNormalization
~~~~~~~~~~~~~~~~~~~~

.. graphviz:: EPIMeanNormalization.dot

The EPIMeanNormalization sub-workflow uses FSL FLIRT with the BBR cost function to find the transform that maps the EPI space into the T1-space

EPIMNITransformation
~~~~~~~~~~~~~~~~~~~~

.. graphviz:: EPIMNITransformation.dot

The EPIMNITransformation sub-workflow uses the transform from `EPIMeanNormalization`_ and a t1-to-MNI transform from `t1w_preprocessing` to map the EPI image to standardized MNI space.
It also maps the t1w-based mask to MNI space.

ConfoundDiscoverer
~~~~~~~~~~~~~~~~~~

.. graphviz:: ConfoundDiscoverer.dot

Given a motion-corrected fMRI, a brain mask, MCLIFRT movement parameters and a segmentation, the ConfoundDiscoverer sub-workflow calculates potential confounds per volume.
Calculated confounds include the global regressor, segment regressors, tCompCor, aCompCor, and DVARS.


Reports
-------

Some stuff about reports

Other Outputs
-------------

Some stuff about derivatives.
